{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/pc/Desktop/justFolders/ReactProject/front-hopital/src/app/prediction/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\n\r\nexport default function PredictionPage() {\r\n  const [file, setFile] = useState<File | null>(null)\r\n  const [result, setResult] = useState<{ prediction: string; recommendations: string[] } | null>(null)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files) {\r\n      setFile(e.target.files[0])\r\n      setResult(null)\r\n      setError(null)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    if (!file) return\r\n\r\n    const formData = new FormData()\r\n    formData.append('file', file)\r\n\r\n    setLoading(true)\r\n    setError(null)\r\n    try {\r\n      const response = await fetch('http://localhost:5000/predict/', {\r\n        method: 'POST',\r\n        body: formData,\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Erreur lors de la pr√©diction')\r\n      }\r\n\r\n      const data = await response.json()\r\n      if (data.error) {\r\n        setError(data.error)\r\n      } else {\r\n        setResult(data)\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur:', error)\r\n      setError('Erreur serveur.')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center justify-center p-8 bg-gray-50\">\r\n      <h1 className=\"text-3xl font-bold mb-8 text-blue-700\">üß™ Pr√©diction m√©dicale</h1>\r\n\r\n      <input\r\n        type=\"file\"\r\n        accept=\".csv\"\r\n        onChange={handleFileChange}\r\n        className=\"mb-4\"\r\n      />\r\n      <button\r\n        onClick={handleSubmit}\r\n        disabled={loading}\r\n        className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg mb-6\"\r\n      >\r\n        {loading ? 'Pr√©diction...' : 'Envoyer'}\r\n      </button>\r\n\r\n      {/* Erreur */}\r\n      {error && (\r\n        <div className=\"mb-4 text-red-600 font-semibold\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* R√©sultat */}\r\n      {result && (\r\n        <div className=\"bg-white p-6 rounded-xl shadow text-center\">\r\n          <h2 className=\"text-2xl font-bold text-green-700 mb-4\">\r\n            R√©sultat : {result.prediction}\r\n          </h2>\r\n\r\n          {result.recommendations && result.recommendations.length > 0 ? (\r\n            <div>\r\n              <h3 className=\"text-xl font-semibold mb-2 text-blue-700\">Recommandations :</h3>\r\n              <ul className=\"list-disc list-inside text-gray-700 text-left\">\r\n                {result.recommendations.map((rec, index) => (\r\n                  <li key={index}>{rec}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-gray-500\">Pas de recommandation disponible.</p>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA4D;IAC/F,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,mBAAmB,CAAC;QACxB,IAAI,EAAE,MAAM,CAAC,KAAK,EAAE;YAClB,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;YACzB,UAAU;YACV,SAAS;QACX;IACF;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,MAAM;QAEX,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QAExB,WAAW;QACX,SAAS;QACT,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,kCAAkC;gBAC7D,QAAQ;gBACR,MAAM;YACR;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,KAAK,KAAK,EAAE;gBACd,SAAS,KAAK,KAAK;YACrB,OAAO;gBACL,UAAU;YACZ;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,WAAW;YACzB,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAwC;;;;;;0BAEtD,6LAAC;gBACC,MAAK;gBACL,QAAO;gBACP,UAAU;gBACV,WAAU;;;;;;0BAEZ,6LAAC;gBACC,SAAS;gBACT,UAAU;gBACV,WAAU;0BAET,UAAU,kBAAkB;;;;;;YAI9B,uBACC,6LAAC;gBAAI,WAAU;0BACZ;;;;;;YAKJ,wBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;;4BAAyC;4BACzC,OAAO,UAAU;;;;;;;oBAG9B,OAAO,eAAe,IAAI,OAAO,eAAe,CAAC,MAAM,GAAG,kBACzD,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAA2C;;;;;;0CACzD,6LAAC;gCAAG,WAAU;0CACX,OAAO,eAAe,CAAC,GAAG,CAAC,CAAC,KAAK,sBAChC,6LAAC;kDAAgB;uCAAR;;;;;;;;;;;;;;;6CAKf,6LAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;;AAMzC;GA9FwB;KAAA","debugId":null}}]
}