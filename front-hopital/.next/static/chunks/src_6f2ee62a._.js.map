{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/pc/Desktop/justFolders/React-app1/front-hopital/src/app/prediction/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\n\r\nexport default function PredictionPage() {\r\n  const [file, setFile] = useState<File | null>(null)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [result, setResult] = useState<{\r\n    prediction: string\r\n    recommendations: string[]\r\n  } | null>(null)\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const selectedFile = e.target.files?.[0]\r\n    if (selectedFile) {\r\n      const fileType = selectedFile.name.split('.').pop()?.toLowerCase()\r\n      if (fileType !== 'csv' && fileType !== 'pdf') {\r\n        setError('Veuillez sélectionner un fichier CSV ou PDF')\r\n        setFile(null)\r\n        return\r\n      }\r\n      setFile(selectedFile)\r\n      setError(null)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (!file) return\r\n\r\n    setLoading(true)\r\n    setError(null)\r\n    setResult(null)\r\n\r\n    const formData = new FormData()\r\n    formData.append('file', file)\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/predict/', {\r\n        method: 'POST',\r\n        body: formData,\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Erreur lors de la prédiction')\r\n      }\r\n\r\n      const data = await response.json()\r\n      setResult(data)\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Une erreur est survenue')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4\">\r\n      <Card className=\"max-w-2xl mx-auto\">\r\n        <CardHeader>\r\n          <CardTitle>Prédiction de Santé</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            <div className=\"space-y-2\">\r\n              <label className=\"block text-sm font-medium\">\r\n                Sélectionnez votre fichier (CSV ou PDF)\r\n              </label>\r\n              <input\r\n                type=\"file\"\r\n                accept=\".csv,.pdf\"\r\n                onChange={handleFileChange}\r\n                className=\"block w-full text-sm text-gray-500\r\n                  file:mr-4 file:py-2 file:px-4\r\n                  file:rounded-full file:border-0\r\n                  file:text-sm file:font-semibold\r\n                  file:bg-blue-50 file:text-blue-700\r\n                  hover:file:bg-blue-100\"\r\n              />\r\n              {file && (\r\n                <p className=\"text-sm text-gray-500\">\r\n                  Fichier sélectionné : {file.name}\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={!file || loading}\r\n              className=\"w-full\"\r\n            >\r\n              {loading ? 'Analyse en cours...' : 'Analyser'}\r\n            </Button>\r\n          </form>\r\n\r\n          {error && (\r\n            <div className=\"mt-4 p-4 bg-red-50 text-red-700 rounded-md\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {result && (\r\n            <div className=\"mt-6 space-y-4\">\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold mb-2\">Résultat :</h3>\r\n                <Badge variant=\"secondary\" className=\"text-lg\">\r\n                  {result.prediction}\r\n                </Badge>\r\n              </div>\r\n\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold mb-2\">Recommandations :</h3>\r\n                <ul className=\"list-disc list-inside space-y-2\">\r\n                  {result.recommendations.map((rec, index) => (\r\n                    <li key={index} className=\"text-gray-700\">\r\n                      {rec}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;;;;;;;;;;;AAHA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAGzB;IAEV,MAAM,mBAAmB,CAAC;QACxB,MAAM,eAAe,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QACxC,IAAI,cAAc;YAChB,MAAM,WAAW,aAAa,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI;YACrD,IAAI,aAAa,SAAS,aAAa,OAAO;gBAC5C,SAAS;gBACT,QAAQ;gBACR;YACF;YACA,QAAQ;YACR,SAAS;QACX;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM;QAEX,WAAW;QACX,SAAS;QACT,UAAU;QAEV,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QAExB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,kCAAkC;gBAC7D,QAAQ;gBACR,MAAM;YACR;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,UAAU;QACZ,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,mIAAA,CAAA,OAAI;YAAC,WAAU;;8BACd,6LAAC,mIAAA,CAAA,aAAU;8BACT,cAAA,6LAAC,mIAAA,CAAA,YAAS;kCAAC;;;;;;;;;;;8BAEb,6LAAC,mIAAA,CAAA,cAAW;;sCACV,6LAAC;4BAAK,UAAU;4BAAc,WAAU;;8CACtC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAM,WAAU;sDAA4B;;;;;;sDAG7C,6LAAC;4CACC,MAAK;4CACL,QAAO;4CACP,UAAU;4CACV,WAAU;;;;;;wCAOX,sBACC,6LAAC;4CAAE,WAAU;;gDAAwB;gDACZ,KAAK,IAAI;;;;;;;;;;;;;8CAKtC,6LAAC;oCACC,MAAK;oCACL,UAAU,CAAC,QAAQ;oCACnB,WAAU;8CAET,UAAU,wBAAwB;;;;;;;;;;;;wBAItC,uBACC,6LAAC;4BAAI,WAAU;sCACZ;;;;;;wBAIJ,wBACC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;;sDACC,6LAAC;4CAAG,WAAU;sDAA6B;;;;;;sDAC3C,6LAAC;4CAAM,SAAQ;4CAAY,WAAU;sDAClC,OAAO,UAAU;;;;;;;;;;;;8CAItB,6LAAC;;sDACC,6LAAC;4CAAG,WAAU;sDAA6B;;;;;;sDAC3C,6LAAC;4CAAG,WAAU;sDACX,OAAO,eAAe,CAAC,GAAG,CAAC,CAAC,KAAK,sBAChC,6LAAC;oDAAe,WAAU;8DACvB;mDADM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAY7B;GA3HwB;KAAA","debugId":null}}]
}